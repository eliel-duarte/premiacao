<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Premiação Poker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 2rem; }
    .resultado { margin-top: 2rem; }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="mb-4">Distribuição</h1>
    
    <div class="row g-3">
      <div class="col-md-6">
        <label for="valorPremiacao" class="form-label">Valor Total da Premiação</label>
        <input type="number" class="form-control" id="valorPremiacao" placeholder="Ex: 1000">
      </div>
      <div class="col-md-6">
        <label for="numeroJogadores" class="form-label">Número de Jogadores</label>
        <input type="number" class="form-control" id="numeroJogadores" placeholder="Ex: 10">
      </div>
    </div>

    <button class="btn btn-primary mt-4" onclick="calcularPremiacao()">Calcular</button>

    <div class="resultado" id="resultado"></div>
  </div>

  <script>
    function calcularPremiacao() {
      const valorTotal = parseFloat(document.getElementById("valorPremiacao").value);
      const jogadores = parseInt(document.getElementById("numeroJogadores").value);

      if (isNaN(valorTotal) || isNaN(jogadores) || valorTotal <= 0 || jogadores <= 0) {
        alert("Por favor, insira valores válidos.");
        return;
      }

      const topPercentual = 0.167; // Premia o top 30%
      const pagos = Math.max(1, Math.floor(jogadores * topPercentual))+1;
      const pesos = [];

      // Distribuição proporcional decrescente (peso linear)
      let totalPeso = 0;
      for (let i = 0; i < pagos; i++) {
        const peso = Math.pow(2, pagos - i - 1); // Ex: 2^(2), 2^(1), 2^(0) = 4,2,1
        pesos.push(peso);
        totalPeso += peso;
      }


      const resultadoDiv = document.getElementById("resultado");
      resultadoDiv.innerHTML = `<h4>Pagando os top ${pagos} jogadores:</h4><ul class="list-group">`;

      pesos.forEach((peso, idx) => {
        const valor = ((peso / totalPeso) * valorTotal).toFixed(2);
        resultadoDiv.innerHTML += `<li class="list-group-item">#${idx + 1} - R$ ${valor}</li>`;
      });

      resultadoDiv.innerHTML += "</ul>";
    }
  </script>
</body>
</html>
